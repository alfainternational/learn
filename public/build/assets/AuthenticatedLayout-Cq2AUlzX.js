import{c as r,e,d as o,u as $,r as g,q as f,s as Z,j as _,f as c,w as i,b as k,F as z,x as L,n as b,t as h,m as N,y as x,z as y,T as R}from"./app-E0SyKMCT.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as D}from"./DocumentTextIcon-CYNReVIF.js";function F(d,l){return o(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})])}function I(d,l){return o(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"})])}function T(d,l){return o(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"})])}function U(d,l){return o(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})])}function q(d,l){return o(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 1 1 0-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 0 1-1.44-4.282m3.102.069a18.03 18.03 0 0 1-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 0 1 8.835 2.535M10.34 6.66a23.847 23.847 0 0 0 8.835-2.535m0 0A23.74 23.74 0 0 0 18.795 3m.38 1.125a23.91 23.91 0 0 1 1.014 5.395m-1.014 8.855c-.118.38-.245.754-.38 1.125m.38-1.125a23.91 23.91 0 0 0 1.014-5.395m0-3.46c.495.413.811 1.035.811 1.73 0 .695-.316 1.317-.811 1.73m0-3.46a24.347 24.347 0 0 1 0 3.46"})])}function E(d,l){return o(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"})])}const O={class:"flex h-screen bg-gray-100 font-sans",dir:"rtl"},W={class:"h-16 flex items-center justify-center border-b border-gray-800"},G={class:"p-4 space-y-2"},J={class:"font-medium"},K={class:"absolute bottom-0 w-full p-4 border-t border-gray-800"},P={class:"flex items-center gap-3"},Q={class:"w-10 h-10 rounded-full bg-gray-700 overflow-hidden"},X=["src"],Y={key:1,class:"w-full h-full flex items-center justify-center text-sm font-bold"},ee={class:"flex-1 min-w-0"},te={class:"text-sm font-medium text-white truncate"},oe={class:"flex-1 flex flex-col min-w-0 overflow-hidden"},se={class:"bg-white border-b border-gray-200 h-16 flex items-center justify-between px-6 z-10"},re={class:"text-xl font-bold text-gray-800 hidden md:block"},ne={class:"flex items-center gap-4"},ae={key:0,class:"absolute top-1 right-1 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-white"},le={class:"relative ml-3"},ie={class:"hidden sm:inline font-medium"},ce={class:"w-8 h-8 rounded-full bg-gray-200 overflow-hidden"},de=["src"],ue={key:1,class:"w-full h-full flex items-center justify-center bg-primary-100 text-primary-700 font-bold"},he={class:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-50 p-6 scroll-smooth"},me={__name:"AuthenticatedLayout",setup(d){const l=$(),C=N(),p=Z(),m=g(!1),a=f(()=>l.user),w=f(()=>{var n;return(n=a.value)!=null&&n.name?a.value.name.split(" ").map(t=>t[0]).join("").substring(0,2).toUpperCase():"U"}),M=g(0),j=f(()=>p.meta.title||""),B=n=>n==="/dashboard"?p.path==="/dashboard":p.path.startsWith(n),V=f(()=>{var t;const n=[{name:"لوحة التحكم",to:"/dashboard",icon:U},{name:"خططي",to:"/plans",icon:D},{name:"القوالب",to:"/templates",icon:T},{name:"الاشتراك",to:"/subscription",icon:I}];return((t=a.value)==null?void 0:t.role)==="admin"&&(n.unshift({name:"لوحة المشرف",to:"/admin/dashboard",icon:F}),n.push({name:"المستخدمين",to:"/admin/users",icon:E},{name:"الإعلانات",to:"/admin/campaigns",icon:q})),n}),A=async()=>{await l.logout(),C.push("/login")};return(n,t)=>{const u=k("router-link"),H=k("router-view");return o(),r("div",O,[e("aside",{class:b(["bg-slate-900 text-white w-64 flex-shrink-0 transition-all duration-300 ease-in-out z-30",m.value?"translate-x-0":"translate-x-full fixed inset-y-0 right-0 md:relative md:translate-x-0"])},[e("div",W,[c(u,{to:"/dashboard",class:"flex items-center gap-2"},{default:i(()=>[...t[2]||(t[2]=[e("div",{class:"w-8 h-8 bg-gradient-to-br from-primary-500 to-secondary-500 rounded-lg flex items-center justify-center"},[e("span",{class:"text-white font-bold text-xl"},"خ")],-1),e("span",{class:"text-xl font-display font-bold"},"خطّط",-1)])]),_:1})]),e("nav",G,[(o(!0),r(z,null,L(V.value,s=>(o(),x(u,{key:s.name,to:s.to,class:b(["flex items-center gap-3 px-4 py-3 rounded-xl transition-colors group",B(s.to)?"bg-primary-600 text-white":"text-gray-400 hover:bg-gray-800 hover:text-white"])},{default:i(()=>[(o(),x(y(s.icon),{class:"w-5 h-5 group-hover:scale-110 transition-transform"})),e("span",J,h(s.name),1)]),_:2},1032,["to","class"]))),128))]),e("div",K,[e("div",P,[c(u,{to:"/profile",class:"flex items-center gap-3 flex-1 min-w-0 hover:opacity-80 transition-opacity"},{default:i(()=>{var s,v;return[e("div",Q,[(s=a.value)!=null&&s.avatar_url?(o(),r("img",{key:0,src:a.value.avatar_url,class:"w-full h-full object-cover"},null,8,X)):(o(),r("div",Y,h(w.value),1))]),e("div",ee,[e("p",te,h((v=a.value)==null?void 0:v.name),1),t[3]||(t[3]=e("p",{class:"text-xs text-gray-500 truncate"},"تعديل الملف الشخصي",-1))])]}),_:1}),e("button",{onClick:A,class:"text-gray-400 hover:text-red-400 p-2",title:"تسجيل الخروج"},[...t[4]||(t[4]=[e("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1)])])])])],2),m.value?(o(),r("div",{key:0,onClick:t[0]||(t[0]=s=>m.value=!1),class:"fixed inset-0 bg-black/50 z-20 md:hidden"})):_("",!0),e("div",oe,[e("header",se,[e("button",{onClick:t[1]||(t[1]=s=>m.value=!m.value),class:"md:hidden text-gray-500 hover:text-gray-700"},[...t[5]||(t[5]=[e("svg",{class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])]),e("h1",re,h(j.value),1),e("div",ne,[c(u,{to:"/plans/create",class:"btn btn-primary btn-sm flex items-center gap-2"},{default:i(()=>[...t[6]||(t[6]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),e("span",{class:"hidden sm:inline"},"خطة جديدة",-1)])]),_:1}),c(u,{to:"/notifications",class:"relative p-2 text-gray-400 hover:text-gray-600 transition-colors"},{default:i(()=>[M.value>0?(o(),r("span",ae)):_("",!0),t[7]||(t[7]=e("svg",{class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1))]),_:1}),e("div",le,[c(u,{to:"/profile",class:"flex items-center gap-2 text-sm text-gray-700 hover:text-primary-600"},{default:i(()=>{var s,v;return[e("span",ie,h((s=a.value)==null?void 0:s.name),1),e("div",ce,[(v=a.value)!=null&&v.avatar_url?(o(),r("img",{key:0,src:a.value.avatar_url,class:"w-full h-full object-cover"},null,8,de)):(o(),r("div",ue,h(w.value),1))])]}),_:1})])])]),e("main",he,[c(H,null,{default:i(({Component:s})=>[c(R,{name:"fade",mode:"out-in"},{default:i(()=>[(o(),x(y(s)))]),_:2},1024)]),_:1})])])])}}},xe=S(me,[["__scopeId","data-v-a4c09565"]]);export{xe as default};
