import{r as i,o as w,c as n,e as t,t as s,h as l,g,f as v,w as _,b as k,j as p,F as b,x as f,A as j,d,n as M}from"./app-E0SyKMCT.js";const C={class:"space-y-6"},V={class:"flex items-center justify-between"},B={class:"flex gap-2"},z={class:"text-sm text-gray-500"},D={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},E={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-100"},N={class:"text-2xl font-bold text-gray-900 mt-1"},S={class:"flex items-center mt-2 text-sm"},H={class:"text-green-600 flex items-center gap-1"},L={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-100"},A={class:"text-2xl font-bold text-gray-900 mt-1"},G={class:"flex items-center mt-2 text-sm"},T={class:"text-gray-400"},F={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-100"},U={class:"text-2xl font-bold text-gray-900 mt-1"},P={class:"flex items-center mt-2 text-sm"},q={class:"text-gray-400"},I={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-100"},J={class:"text-2xl font-bold text-gray-900 mt-1"},K={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},O={class:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"},Q={class:"p-6 border-b border-gray-100 flex justify-between items-center"},R={class:"divide-y divide-gray-100"},W={class:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-600 font-bold"},X={class:"flex-1"},Y={class:"font-medium text-gray-900"},Z={class:"text-sm text-gray-500"},$={class:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-700"},tt={key:0,class:"p-8 text-center text-gray-500"},et={class:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"},st={class:"divide-y divide-gray-100"},ot={class:"flex-1"},at={class:"font-medium text-gray-900"},rt={class:"text-sm text-gray-500"},nt={class:"flex flex-col items-end"},dt={class:"text-xs text-gray-400 mt-1"},it={key:0,class:"p-8 text-center text-gray-500"},mt={__name:"Dashboard",setup(lt){const a=i({total_users:0,active_subscriptions:0,total_plans:0,revenue_this_month:0,pending_campaigns:0,new_users_month:0}),c=i([]),m=i([]),x=i(new Date().toLocaleTimeString("ar-EG")),y=async()=>{try{const r=await j.get("/api/v1/admin/dashboard");r.data.success&&(a.value=r.data.data.stats,c.value=r.data.data.recent_users.map(e=>({...e,created_at_human:new Date(e.created_at).toLocaleDateString("ar-EG")})),m.value=r.data.data.recent_plans,x.value=new Date().toLocaleTimeString("ar-EG"))}catch(r){console.error("Error fetching admin dashboard data:",r)}};return w(()=>{y()}),(r,e)=>{const u=k("router-link");return d(),n("div",C,[t("div",V,[e[0]||(e[0]=t("h1",{class:"text-2xl font-bold text-gray-900"},"لوحة تحكم المشرف",-1)),t("div",B,[t("span",z,"آخر تحديث: "+s(x.value),1)])]),t("div",D,[t("div",E,[e[3]||(e[3]=l('<div class="flex items-center justify-between mb-4"><div class="p-3 bg-blue-50 text-blue-600 rounded-lg"><svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"></path></svg></div></div><h3 class="text-gray-500 text-sm font-medium">إجمالي المستخدمين</h3>',2)),t("p",N,s(a.value.total_users),1),t("div",S,[t("span",H,[e[1]||(e[1]=t("svg",{class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})],-1)),g(" "+s(a.value.new_users_month),1)]),e[2]||(e[2]=t("span",{class:"text-gray-400 mr-2"},"هذا الشهر",-1))])]),t("div",L,[e[4]||(e[4]=l('<div class="flex items-center justify-between mb-4"><div class="p-3 bg-green-50 text-green-600 rounded-lg"><svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"></path></svg></div></div><h3 class="text-gray-500 text-sm font-medium">الاشتراكات النشطة</h3>',2)),t("p",A,s(a.value.active_subscriptions),1),t("div",G,[t("span",T,"الإيرادات: "+s(a.value.revenue_this_month)+" ر.س",1)])]),t("div",F,[e[5]||(e[5]=l('<div class="flex items-center justify-between mb-4"><div class="p-3 bg-purple-50 text-purple-600 rounded-lg"><svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg></div></div><h3 class="text-gray-500 text-sm font-medium">الخطط التسويقية</h3>',2)),t("p",U,s(a.value.total_plans),1),t("div",P,[t("span",q,"المكتملة: "+s(a.value.completed_plans||0),1)])]),t("div",I,[e[7]||(e[7]=l('<div class="flex items-center justify-between mb-4"><div class="p-3 bg-yellow-50 text-yellow-600 rounded-lg"><svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"></path></svg></div></div><h3 class="text-gray-500 text-sm font-medium">حملات بانتظار المراجعة</h3>',2)),t("p",J,s(a.value.pending_campaigns||0),1),v(u,{to:"/admin/campaigns",class:"text-sm text-primary-600 hover:text-primary-700 mt-2 block"},{default:_(()=>[...e[6]||(e[6]=[g(" مراجعة الطلبات ← ",-1)])]),_:1})])]),t("div",K,[t("div",O,[t("div",Q,[e[9]||(e[9]=t("h3",{class:"font-bold text-gray-900"},"أحدث المشتركين",-1)),v(u,{to:"/admin/users",class:"text-sm text-primary-600 hover:text-primary-700"},{default:_(()=>[...e[8]||(e[8]=[g("عرض الكل",-1)])]),_:1})]),t("div",R,[(d(!0),n(b,null,f(c.value,o=>(d(),n("div",{key:o.id,class:"p-4 hover:bg-gray-50 flex items-center gap-4 transition-colors"},[t("div",W,s(o.name.charAt(0)),1),t("div",X,[t("h4",Y,s(o.name),1),t("p",Z,s(o.email),1)]),t("span",$,s(o.created_at_human),1)]))),128)),c.value.length===0?(d(),n("div",tt," لا يوجد مستخدمين جدد ")):p("",!0)])]),t("div",et,[e[11]||(e[11]=t("div",{class:"p-6 border-b border-gray-100 flex justify-between items-center"},[t("h3",{class:"font-bold text-gray-900"},"أحدث الخطط")],-1)),t("div",st,[(d(!0),n(b,null,f(m.value,o=>{var h;return d(),n("div",{key:o.id,class:"p-4 hover:bg-gray-50 flex items-center gap-4 transition-colors"},[e[10]||(e[10]=t("div",{class:"w-10 h-10 rounded-lg bg-indigo-50 flex items-center justify-center text-indigo-600"},[t("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),t("div",ot,[t("h4",at,s(o.title),1),t("p",rt,s(o.business_name||"بدون اسم"),1)]),t("div",nt,[t("span",{class:M([{"bg-green-100 text-green-700":o.status==="completed","bg-gray-100 text-gray-700":o.status!=="completed"},"px-2 py-1 text-xs font-medium rounded-full"])},s(o.status==="completed"?"مكتملة":"مسودة"),3),t("span",dt,s((h=o.user)==null?void 0:h.name),1)])])}),128)),m.value.length===0?(d(),n("div",it," لا توجد خطط حديثة ")):p("",!0)])])])])}}};export{mt as default};
