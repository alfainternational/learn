import{r as p,o as w,G as b,y as V,d as m,w as C,e,c as x,F as U,x as B,k as r,v as i,g as _}from"./app-E0SyKMCT.js";import{_ as A}from"./BaseSection-Ct7qi2nd.js";const j={class:"space-y-6"},M={class:"space-y-4"},S=["onClick"],L={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},T=["onUpdate:modelValue"],D=["onUpdate:modelValue"],F=["onUpdate:modelValue"],H=["onUpdate:modelValue"],$={__name:"SectionCompetitorAnalysis",props:{modelValue:{type:Object,default:()=>({})},isCompleted:Boolean,saving:Boolean},emits:["update:modelValue","update:isCompleted","save"],setup(v,{emit:y}){const o=v,u=y,a=p({competitors:[{name:"",strengths:"",weaknesses:"",advantage:""}]}),n=p(!1),c=p(null);w(()=>{o.modelValue&&(o.modelValue.competitors&&Array.isArray(o.modelValue.competitors)?a.value.competitors=o.modelValue.competitors:Object.keys(o.modelValue).length>0),n.value=o.isCompleted}),b(()=>o.modelValue,d=>{},{deep:!0}),b(()=>o.isCompleted,d=>n.value=d);const h=()=>{a.value.competitors.push({name:"",strengths:"",weaknesses:"",advantage:""})},f=d=>{a.value.competitors.splice(d,1)},k=()=>{c.value=new Date().toLocaleTimeString("ar-SA"),u("update:modelValue",a.value),u("update:isCompleted",n.value),u("save")};return(d,t)=>(m(),V(A,{title:"تحليل المنافسين (Competitor Analysis)",saving:v.saving,"last-saved":c.value,isCompleted:n.value,"onUpdate:isCompleted":t[0]||(t[0]=s=>n.value=s),onSave:k},{default:C(()=>[e("div",j,[t[7]||(t[7]=e("p",{class:"text-sm text-gray-600"},"تعرف على منافسيك لتتفوق عليهم. حلل نقاط القوة والضعف لديهم.",-1)),e("div",M,[(m(!0),x(U,null,B(a.value.competitors,(s,g)=>(m(),x("div",{key:g,class:"bg-gray-50 border border-gray-200 rounded-xl p-4 relative group"},[e("button",{onClick:l=>f(g),class:"absolute top-2 left-2 text-gray-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity"},[...t[1]||(t[1]=[e("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,S),e("div",L,[e("div",null,[t[2]||(t[2]=e("label",{class:"block text-xs font-bold text-gray-500 mb-1"},"المنافس",-1)),r(e("input",{"onUpdate:modelValue":l=>s.name=l,type:"text",class:"input bg-white h-9 text-sm",placeholder:"اسم المنافس"},null,8,T),[[i,s.name]])]),e("div",null,[t[3]||(t[3]=e("label",{class:"block text-xs font-bold text-gray-500 mb-1"},"نقاط القوة",-1)),r(e("input",{"onUpdate:modelValue":l=>s.strengths=l,type:"text",class:"input bg-white h-9 text-sm",placeholder:"بماذا يتميز؟"},null,8,D),[[i,s.strengths]])]),e("div",null,[t[4]||(t[4]=e("label",{class:"block text-xs font-bold text-gray-500 mb-1"},"نقاط الضعف",-1)),r(e("input",{"onUpdate:modelValue":l=>s.weaknesses=l,type:"text",class:"input bg-white h-9 text-sm",placeholder:"أين يقصر؟"},null,8,F),[[i,s.weaknesses]])]),e("div",null,[t[5]||(t[5]=e("label",{class:"block text-xs font-bold text-gray-500 mb-1"},"كيف نتفوق عليه؟",-1)),r(e("input",{"onUpdate:modelValue":l=>s.advantage=l,type:"text",class:"input bg-white h-9 text-sm border-indigo-200 focus:border-indigo-500",placeholder:"ميزتنا التنافسية"},null,8,H),[[i,s.advantage]])])])]))),128)),e("button",{onClick:h,class:"w-full py-3 border-2 border-dashed border-gray-300 rounded-xl text-gray-500 font-bold hover:border-sidebar-500 hover:text-sidebar-600 hover:bg-gray-50 transition-all flex items-center justify-center gap-2"},[...t[6]||(t[6]=[e("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),_(" إضافة منافس جديد ",-1)])])])])]),_:1},8,["saving","last-saved","isCompleted"]))}};export{$ as default};
