import{r as p,o as V,G as b,y as C,d as m,w as B,e as l,k as s,v as o,c as f,F as U,x as S,g as M}from"./app-E0SyKMCT.js";import{_ as T}from"./BaseSection-Ct7qi2nd.js";const _={class:"space-y-6"},h={class:"flex gap-4"},j={class:"flex-1"},A={class:"flex-1"},L={class:"bg-yellow-50 p-4 rounded-xl border border-yellow-100"},O={class:"space-y-3"},D=["onUpdate:modelValue"],F=["onUpdate:modelValue"],N=["onClick"],G={__name:"SectionOfferStack",props:{modelValue:{type:Object,default:()=>({})},isCompleted:Boolean,saving:Boolean},emits:["update:modelValue","update:isCompleted","save"],setup(v,{emit:y}){const n=v,r=y,t=p({main_product:"",price:"",value_price:"",bonuses:[{name:"",value:""}],guarantee:"",scarcity:""}),u=p(!1),c=p(null);V(()=>{n.modelValue&&(t.value={...t.value,...n.modelValue},(!t.value.bonuses||!Array.isArray(t.value.bonuses))&&(t.value.bonuses=[{name:"",value:""}])),u.value=n.isCompleted}),b(()=>n.modelValue,d=>{},{deep:!0}),b(()=>n.isCompleted,d=>u.value=d);const g=()=>{t.value.bonuses.push({name:"",value:""})},k=d=>{t.value.bonuses.splice(d,1)},w=()=>{c.value=new Date().toLocaleTimeString("ar-SA"),r("update:modelValue",t.value),r("update:isCompleted",u.value),r("save")};return(d,e)=>(m(),C(T,{title:"عرض القيمة (The Offer Stack)",saving:v.saving,"last-saved":c.value,isCompleted:u.value,"onUpdate:isCompleted":e[5]||(e[5]=a=>u.value=a),onSave:w},{default:B(()=>[l("div",_,[l("div",null,[e[6]||(e[6]=l("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"المنتج أو الخدمة الرئيسية",-1)),s(l("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>t.value.main_product=a),type:"text",class:"input",placeholder:"اسم المنتج الأساسي"},null,512),[[o,t.value.main_product]])]),l("div",h,[l("div",j,[e[7]||(e[7]=l("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"السعر الأساسي",-1)),s(l("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>t.value.price=a),type:"number",class:"input",placeholder:"0.00"},null,512),[[o,t.value.price]])]),l("div",A,[e[8]||(e[8]=l("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"القيمة الحقيقية (للمقارنة)",-1)),s(l("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>t.value.value_price=a),type:"number",class:"input",placeholder:"0.00"},null,512),[[o,t.value.value_price]])])]),l("div",L,[e[11]||(e[11]=l("h4",{class:"font-bold text-yellow-800 mb-4"},"المكافآت والهدايا (Bonuses)",-1)),l("div",O,[(m(!0),f(U,null,S(t.value.bonuses,(a,x)=>(m(),f("div",{key:x,class:"flex gap-2"},[s(l("input",{"onUpdate:modelValue":i=>a.name=i,type:"text",class:"input",placeholder:"اسم المكافأة (مثال: شحن مجاني، كتاب إلكتروني)"},null,8,D),[[o,a.name]]),s(l("input",{"onUpdate:modelValue":i=>a.value=i,type:"text",class:"input w-24",placeholder:"قيمتها"},null,8,F),[[o,a.value]]),l("button",{onClick:i=>k(x),class:"text-red-500 hover:bg-red-50 p-2 rounded"},[...e[9]||(e[9]=[l("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,N)]))),128)),l("button",{onClick:g,class:"text-sm font-bold text-yellow-700 hover:text-yellow-800 flex items-center gap-1"},[...e[10]||(e[10]=[l("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),M(" إضافة مكافأة ",-1)])])])]),l("div",null,[e[12]||(e[12]=l("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"إزالة المخاطرة (الضمان)",-1)),s(l("textarea",{"onUpdate:modelValue":e[3]||(e[3]=a=>t.value.guarantee=a),rows:"2",class:"input",placeholder:"مثال: ضمان استرجاع الأموال لمدة 30 يوماً بلا أسئلة."},null,512),[[o,t.value.guarantee]])]),l("div",null,[e[13]||(e[13]=l("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"الندرة أو العجلة (Scarcity & Urgency)",-1)),s(l("input",{"onUpdate:modelValue":e[4]||(e[4]=a=>t.value.scarcity=a),type:"text",class:"input",placeholder:"مثال: العرض متاح لأول 50 عميل فقط، أو ينتهي يوم الجمعة."},null,512),[[o,t.value.scarcity]])])])]),_:1},8,["saving","last-saved","isCompleted"]))}};export{G as default};
