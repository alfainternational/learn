import{r as v,o as V,G as x,y as b,d as k,w as _,e as t,k as s,v as i,g as u,l as p}from"./app-E0SyKMCT.js";import{_ as y}from"./BaseSection-Ct7qi2nd.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";const U={class:"space-y-6"},S={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},w={class:"kpi-card"},M={class:"kpi-card"},B={class:"kpi-card"},A={class:"kpi-card"},T={class:"kpi-card"},P={class:"kpi-card"},R={class:"flex flex-wrap gap-4"},D={class:"flex items-center gap-2 text-sm"},G={class:"flex items-center gap-2 text-sm"},I={class:"flex items-center gap-2 text-sm"},L={class:"flex items-center gap-2 text-sm"},N={__name:"SectionMetrics",props:{modelValue:{type:Object,default:()=>({})},isCompleted:Boolean,saving:Boolean},emits:["update:modelValue","update:isCompleted","save"],setup(m,{emit:f}){const o=m,r=f,l=v({cac_target:"",ltv_target:"",cr_target:"",traffic_target:"",sales_target:"",roas_target:"",tools:{ga4:!1,pixel:!1,snapchat:!1,crm:!1}}),n=v(!1),g=v(null);V(()=>{o.modelValue&&(o.modelValue.tools&&(l.value.tools={...l.value.tools,...o.modelValue.tools}),["cac_target","ltv_target","cr_target","traffic_target","sales_target","roas_target"].forEach(d=>{o.modelValue[d]&&(l.value[d]=o.modelValue[d])})),n.value=o.isCompleted}),x(()=>o.modelValue,d=>{},{deep:!0}),x(()=>o.isCompleted,d=>n.value=d);const c=()=>{g.value=new Date().toLocaleTimeString("ar-SA"),r("update:modelValue",l.value),r("update:isCompleted",n.value),r("save")};return(d,e)=>(k(),b(y,{title:"الأرقام والمقاييس (KPIs & Metrics)",saving:m.saving,"last-saved":g.value,isCompleted:n.value,"onUpdate:isCompleted":e[10]||(e[10]=a=>n.value=a),onSave:c},{default:_(()=>[t("div",U,[e[22]||(e[22]=t("p",{class:"text-sm text-gray-600"},"ما لا يمكن قياسه، لا يمكن إدارته. حدد أهم الأرقام التي ستتابعها.",-1)),t("div",S,[t("div",w,[e[11]||(e[11]=t("label",null,"تكلفة الاستحواذ (CAC)",-1)),s(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>l.value.cac_target=a),type:"text",class:"kpi-input",placeholder:"الهدف: 50 ريال"},null,512),[[i,l.value.cac_target]])]),t("div",M,[e[12]||(e[12]=t("label",null,"قيمة العميل (LTV)",-1)),s(t("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>l.value.ltv_target=a),type:"text",class:"kpi-input",placeholder:"الهدف: 500 ريال"},null,512),[[i,l.value.ltv_target]])]),t("div",B,[e[13]||(e[13]=t("label",null,"معدل التحويل (Conversion Rate)",-1)),s(t("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>l.value.cr_target=a),type:"text",class:"kpi-input",placeholder:"الهدف: 3%"},null,512),[[i,l.value.cr_target]])]),t("div",A,[e[14]||(e[14]=t("label",null,"عدد الزوار شهرياً",-1)),s(t("input",{"onUpdate:modelValue":e[3]||(e[3]=a=>l.value.traffic_target=a),type:"text",class:"kpi-input",placeholder:"الهدف: 10,000"},null,512),[[i,l.value.traffic_target]])]),t("div",T,[e[15]||(e[15]=t("label",null,"عدد المبيعات شهرياً",-1)),s(t("input",{"onUpdate:modelValue":e[4]||(e[4]=a=>l.value.sales_target=a),type:"text",class:"kpi-input",placeholder:"الهدف: 300"},null,512),[[i,l.value.sales_target]])]),t("div",P,[e[16]||(e[16]=t("label",null,"العائد على الإعلان (ROAS)",-1)),s(t("input",{"onUpdate:modelValue":e[5]||(e[5]=a=>l.value.roas_target=a),type:"text",class:"kpi-input",placeholder:"الهدف: 4x"},null,512),[[i,l.value.roas_target]])])]),t("div",null,[e[21]||(e[21]=t("h4",{class:"font-bold text-gray-800 mb-2"},"أدوات القياس",-1)),t("div",R,[t("label",D,[s(t("input",{type:"checkbox","onUpdate:modelValue":e[6]||(e[6]=a=>l.value.tools.ga4=a),class:"rounded"},null,512),[[p,l.value.tools.ga4]]),e[17]||(e[17]=u(" Google Analytics 4",-1))]),t("label",G,[s(t("input",{type:"checkbox","onUpdate:modelValue":e[7]||(e[7]=a=>l.value.tools.pixel=a),class:"rounded"},null,512),[[p,l.value.tools.pixel]]),e[18]||(e[18]=u(" Facebook Pixel",-1))]),t("label",I,[s(t("input",{type:"checkbox","onUpdate:modelValue":e[8]||(e[8]=a=>l.value.tools.snapchat=a),class:"rounded"},null,512),[[p,l.value.tools.snapchat]]),e[19]||(e[19]=u(" Snapchat Pixel",-1))]),t("label",L,[s(t("input",{type:"checkbox","onUpdate:modelValue":e[9]||(e[9]=a=>l.value.tools.crm=a),class:"rounded"},null,512),[[p,l.value.tools.crm]]),e[20]||(e[20]=u(" نظام CRM",-1))])])])])]),_:1},8,["saving","last-saved","isCompleted"]))}},F=C(N,[["__scopeId","data-v-3920014a"]]);export{F as default};
